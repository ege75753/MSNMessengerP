<Window x:Class="MSNClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MSN Messenger" Height="600" Width="300"
        MinWidth="240" MinHeight="420"
        Background="#EEF4FB"
        FontFamily="Tahoma"
        Closing="Window_Closing">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Menu bar -->
        <Border Grid.Row="0" Background="#D0E4F8" BorderBrush="#8CB4E0" BorderThickness="0,0,0,1">
            <StackPanel Orientation="Horizontal" Margin="2,1">
                <Button Style="{StaticResource MenuBtn}" Content="File" Click="Menu_File"/>
                <Button Style="{StaticResource MenuBtn}" Content="Contacts" Click="Menu_Contacts"/>
                <Button Style="{StaticResource MenuBtn}" Content="Actions" Click="Menu_Actions"/>
                <Button Style="{StaticResource MenuBtn}" Content="Tools" Click="Menu_Tools"/>
            </StackPanel>
        </Border>

        <!-- My profile -->
        <Border Grid.Row="1" Background="{StaticResource MSNSidebarBrush}"
                BorderBrush="#8CB4E0" BorderThickness="0,0,0,1" Padding="6,6">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Avatar -->
                <Border Grid.Column="0" Width="46" Height="46" CornerRadius="3"
                        BorderBrush="#8CB4E0" BorderThickness="1" Margin="0,0,8,0"
                        Background="White" Cursor="Hand" MouseLeftButtonUp="Avatar_Click"
                        ClipToBounds="True">
                    <Grid>
                        <Image x:Name="MyAvatarImage" Stretch="UniformToFill" Visibility="Collapsed" RenderOptions.BitmapScalingMode="HighQuality"/>
                        <TextBlock x:Name="MyAvatarText" Text="ðŸ™‚" FontSize="28"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                </Border>

                <!-- Name / status / personal message -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal" Cursor="Hand" MouseLeftButtonUp="MyName_Click">
                        <TextBlock x:Name="MyNameText" FontWeight="Bold" FontSize="12" Foreground="#003399"/>
                        <TextBlock Text=" â–¾" FontSize="9" Foreground="#666" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Cursor="Hand" MouseLeftButtonUp="MyStatus_Click">
                        <TextBlock x:Name="MyStatusDot" Text="â—" FontSize="10" Margin="0,0,4,0" VerticalAlignment="Center"/>
                        <TextBlock x:Name="MyStatusText" FontSize="10" Foreground="#555"/>
                        <TextBlock Text=" â–¾" FontSize="9" Foreground="#888" VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock x:Name="MyPMText" FontSize="10" Foreground="#888" FontStyle="Italic"
                               Cursor="Hand" MouseLeftButtonUp="MyPM_Click" TextTrimming="CharacterEllipsis"/>
                </StackPanel>

                <!-- Connection indicator -->
                <Border Grid.Column="2" VerticalAlignment="Center">
                    <TextBlock x:Name="ConnIndicator" Text="ðŸŸ¢" FontSize="14" ToolTip="Connected"
                               Cursor="Hand" MouseLeftButtonUp="ConnIndicator_Click"/>
                </Border>
            </Grid>
        </Border>

        <!-- Toolbar -->
        <Border Grid.Row="2" Background="{StaticResource MSNSidebarBrush}"
                BorderBrush="#8CB4E0" BorderThickness="0,0,0,1" Padding="4,3">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Style="{StaticResource MSNBtn}" Margin="2,0" Padding="5,2" Click="Toolbar_Invite">
                    <StackPanel><TextBlock Text="ðŸ‘¥" FontSize="14" HorizontalAlignment="Center"/>
                    <TextBlock Text="Invite" FontSize="8" HorizontalAlignment="Center"/></StackPanel>
                </Button>
                <Button Style="{StaticResource MSNBtn}" Margin="2,0" Padding="5,2" Click="Toolbar_AddContact">
                    <StackPanel><TextBlock Text="âž•" FontSize="14" HorizontalAlignment="Center"/>
                    <TextBlock Text="Add" FontSize="8" HorizontalAlignment="Center"/></StackPanel>
                </Button>
                <Button Style="{StaticResource MSNBtn}" Margin="2,0" Padding="5,2" Click="Toolbar_NewGroup">
                    <StackPanel><TextBlock Text="ðŸ’¬" FontSize="14" HorizontalAlignment="Center"/>
                    <TextBlock Text="Group" FontSize="8" HorizontalAlignment="Center"/></StackPanel>
                </Button>
                <Button Style="{StaticResource MSNBtn}" Margin="2,0" Padding="5,2" Click="Toolbar_Settings">
                    <StackPanel><TextBlock Text="âš™ï¸" FontSize="14" HorizontalAlignment="Center"/>
                    <TextBlock Text="Settings" FontSize="8" HorizontalAlignment="Center"/></StackPanel>
                </Button>
                <Button Style="{StaticResource MSNBtn}" Margin="2,0" Padding="5,2" Click="Toolbar_Games">
                    <StackPanel>
                        <TextBlock Text="ðŸŽ®" FontSize="14" HorizontalAlignment="Center"/>
                        <TextBlock Text="Games" FontSize="8" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Border>

        <!-- Search -->
        <Border Grid.Row="3" Background="{StaticResource MSNSidebarBrush}"
                BorderBrush="#8CB4E0" BorderThickness="0,0,0,1" Padding="6,4">
            <Grid>
                <TextBox x:Name="SearchBox" Height="22" FontSize="11" BorderBrush="#8CB4E0"
                         Background="White" Padding="2" TextChanged="Search_Changed"/>
                <TextBlock x:Name="SearchHint" Text="ðŸ” Search contacts..."
                           IsHitTestVisible="False" FontSize="10" Foreground="#AAA"
                           Margin="4,0,0,0" VerticalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- Contact list -->
        <ScrollViewer Grid.Row="4" VerticalScrollBarVisibility="Auto"
                      Background="{StaticResource MSNSidebarBrush}">
            <StackPanel x:Name="ContactsPanel" Margin="2,2"/>
        </ScrollViewer>

        <!-- Footer -->
        <Border Grid.Row="5" Background="{StaticResource MSNHeaderBrush}" Padding="6,4">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="msn" FontWeight="Bold" FontSize="14" Foreground="White" FontFamily="Arial"/>
                    <TextBlock Text="â„¢" FontSize="8" Foreground="#CCDDFF" VerticalAlignment="Top" Margin="1,2,0,0"/>
                    <TextBlock Text=" Messenger" FontSize="13" Foreground="White" FontFamily="Arial"/>
                </StackPanel>
                <TextBlock Grid.Column="1" Text=".net" FontSize="10" Foreground="#AACCFF" VerticalAlignment="Bottom"/>
            </Grid>
        </Border>
    </Grid>
</Window>
